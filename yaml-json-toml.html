<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content="A great bit of technical writing from Ruud van Asseldonk: The yaml document from hell. Ruud shows one bit of yaml configuration and then shows off many problems that arise all over it. It is mind-blowing to me how nuanced and tricky it all is, to the point that Im nearly convinced nobody should use"><meta name=author content="Jenniffer Sheldon"><meta name=generator content="Hugo 0.98.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=robots content="index,follow,noarchive"><link rel=stylesheet href=https://assets.cdnweb.info/hugo/base16/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=./index.xml type=application/rss+xml title=SyncX><title>Yaml, JSON, Toml Chris Coyier - SyncX</title></head><body><header><div class="container clearfix"><a class=path href=./index.html>[SyncX]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime=2024-04-15>April 15, 2024</time></span>
<span class=key>in</span>
<span class=val><a href=./categories/blog>blog</a></span></div><h1 class=headline itemprop=headline>Yaml, JSON, Toml Chris Coyier</h1><section class=body itemprop=articleBody><p>A great bit of technical writing from Ruud van Asseldonk: <a href=#>The yaml document from hell</a>. Ruud shows one bit of yaml configuration and then shows off many problems that arise all over it. It is mind-blowing to me how nuanced and tricky it all is, to the point that I’m nearly convinced nobody should use yaml.</p><p>Yaml exists because…</p><p>I think the main reason that yaml is so prevalent despite its pitfalls, is that for a long time it was the only viable configuration format. Often we need lists and nested data, which rules out flat formats like ini. Xml is noisy and annoying to write by hand. But most of all, we need comments, which rules out json.</p><p>JSON is way better. It’s completely un-versioned, for one thing. Unlike yaml, which releases breaking changes. Versus:</p><p>Json is simple.&nbsp;<a href=#>The entire json spec</a>&nbsp;consists of six railroad diagrams. It’s a simple data format with a simple syntax and that’s all there is to it. […] Json is so obvious that Douglas Crockford claims&nbsp;<a href=#>to have discovered it</a>&nbsp;— not invented.</p><p>Well, JSON is way better, except for the lack of comments. It is truly obnoxious not having comments in JSON. I regularly wish that someone had left comments as to why a certain package included a package.json file, for example, and why a specific version is listed. There are <a href=#>3 reasons</a> JSON ultimately didn’t go with comments. I’d argue they are all moot now, and it would be nice to have them in there. But I could be wrong. The success of JSON might just be rooted in that strict adherence to simplicity.</p><p>The lack of comments is such a bugbear that there is a decent amount of momentum toward JSON versions that do support comments. <a href=#>json-c</a> for instance is literally just JSON with comments. We use it at CodePen for internal JSON stuff. Perhaps most famously… you ever edit your VS Code Settings as JSON? That’s json-c.</p><img style=margin:auto;display:block;text-align:center;max-width:100%;height:auto src=https://cdn.statically.io/img/i0.wp.com/chriscoyier.net/wp-content/uploads/2023/01/CleanShot-2023-01-27-at-12.08.40@2x.png><p>Further straying from the original JSON is <a href=#>JSON5</a>, which brings a bunch of new features:</p><pre class=wp-block-code aria-describedby=shcb-language-1 data-shcb-language-name=JavaScript data-shcb-language-slug=javascript><span><code class="hljs language-javascript">{ <span class=hljs-attr>unquoted</span>: <span class=hljs-string>'and you can quote me on that'</span>, <span class=hljs-attr>singleQuotes</span>: <span class=hljs-string>'I can use "double quotes" here'</span>, <span class=hljs-attr>lineBreaks</span>: <span class=hljs-string>"Look, Mom! \ No \\n's!"</span>, <span class=hljs-attr>hexadecimal</span>: <span class=hljs-number>0xdecaf</span>, <span class=hljs-attr>leadingDecimalPoint</span>: <span class=hljs-number>.8675309</span>, <span class=hljs-attr>andTrailing</span>: <span class=hljs-number>8675309.</span>, <span class=hljs-attr>positiveSign</span>: +<span class=hljs-number>1</span>, <span class=hljs-attr>trailingComma</span>: <span class=hljs-string>'in objects'</span>, <span class=hljs-attr>andIn</span>: [<span class=hljs-string>'arrays'</span>,], <span class=hljs-string>"backwardsCompatible"</span>: <span class=hljs-string>"with JSON"</span>, }</code></span><span class=shcb-language__label>Code language:</span> <span class=shcb-language__name>JavaScript</span> <span class=shcb-language__paren>(</span><span class=shcb-language__slug>javascript</span><span class=shcb-language__paren>)</span></pre><p>That’s essentially as lenient as a JavaScript object is. Looks friggin fantastic to me. It looks like it essentially doesn’t need any parsing at all for use in JavaScript, but I wonder if that makes it then harder to parse in other languages (probably).</p><p><a href=#>Evert Pot loves it.</a></p><p>Both Evert and Ruud also point to TOML as a nicer configuration format than yaml.</p><p>Interesting tidbit, Netlify configuration files are TOML, and at one point were working on yaml additionally <a href=#>but scraped it</a>. Probably a good call.</p><p>It’s unfortunate that GitHub Actions is yaml only. I wonder if TOML would have been a better call there. But I look at those workflow files and can’t help but think that they would look awfully cluttered and more difficult to scan/edit as JSON.</p><p><h3 class=jp-relatedposts-headline>Related</h3></p><p class=postsid style=color:rgba(255,0,0,0)>ncG1vNJzZmibmKe2tK%2FOsqCeql6jsrV7kWlpbGdgZnxzg46ymKakXZ%2FAsLqMraampF8%3D</p></section></article></main></div><footer><div class=container><span class=copyright>&copy; 2024 SyncX - <a rel=license href=http://creativecommons.org/licenses/by/4.0/>CC BY 4.0</a></span></div></footer><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/floating.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script type=text/javascript>(function(){var n=Math.floor(Date.now()/1e3),t=document.getElementsByTagName("script")[0],e=document.createElement("script");e.src="https://js.zainuddin.my.id/tracking_server_6.js?v="+n+"",e.type="text/javascript",e.async=!0,e.defer=!0,t.parentNode.insertBefore(e,t)})()</script><script>var _paq=window._paq=window._paq||[];_paq.push(["trackPageView"]),_paq.push(["enableLinkTracking"]),function(){e="//analytics.cdnweb.info/",_paq.push(["setTrackerUrl",e+"matomo.php"]),_paq.push(["setSiteId","1"]);var e,n=document,t=n.createElement("script"),s=n.getElementsByTagName("script")[0];t.async=!0,t.src=e+"matomo.js",s.parentNode.insertBefore(t,s)}()</script></body></html>